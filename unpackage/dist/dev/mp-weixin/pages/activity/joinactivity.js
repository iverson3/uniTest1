(global.webpackJsonp=global.webpackJsonp||[]).push([["pages/activity/joinactivity"],{90:
/*!**********************************************************************************************************!*\
  !*** /Users/iFan/Documents/HBuilderProjects/uniTest1/main.js?{"page":"pages%2Factivity%2Fjoinactivity"} ***!
  \**********************************************************************************************************/
/*! no static exports found */function(e,t,i){"use strict";(function(e){i(/*! uni-pages */4),i(/*! @dcloudio/uni-stat */5);t(i(/*! vue */2));function t(e){return e&&e.__esModule?e:{default:e}}e(t(i(/*! ./pages/activity/joinactivity.vue */91)).default)}).call(this,i(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1).createPage)},91:
/*!***************************************************************************************!*\
  !*** /Users/iFan/Documents/HBuilderProjects/uniTest1/pages/activity/joinactivity.vue ***!
  \***************************************************************************************/
/*! no static exports found */function(e,t,i){"use strict";i.r(t);var n=i(/*! ./joinactivity.vue?vue&type=template&id=08439ce9& */92),r=i(/*! ./joinactivity.vue?vue&type=script&lang=js& */94);for(var a in r)"default"!==a&&function(e){i.d(t,e,function(){return r[e]})}(a);var s=i(/*! ../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js */14),u=Object(s.default)(r.default,n.render,n.staticRenderFns,!1,null,null,null);u.options.__file="Users/iFan/Documents/HBuilderProjects/uniTest1/pages/activity/joinactivity.vue",t.default=u.exports},92:
/*!**********************************************************************************************************************!*\
  !*** /Users/iFan/Documents/HBuilderProjects/uniTest1/pages/activity/joinactivity.vue?vue&type=template&id=08439ce9& ***!
  \**********************************************************************************************************************/
/*! exports provided: render, staticRenderFns */function(e,t,i){"use strict";i.r(t);var n=i(/*! -!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-hbuilderx/packages/webpack-uni-nvue-loader/lib/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--17-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./joinactivity.vue?vue&type=template&id=08439ce9& */93);i.d(t,"render",function(){return n.render}),i.d(t,"staticRenderFns",function(){return n.staticRenderFns})},93:
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-hbuilderx/packages/webpack-uni-nvue-loader/lib/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--17-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/iFan/Documents/HBuilderProjects/uniTest1/pages/activity/joinactivity.vue?vue&type=template&id=08439ce9& ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */function(e,t,i){"use strict";i.r(t),i.d(t,"render",function(){return n}),i.d(t,"staticRenderFns",function(){return r});var n=function(){var e=this.$createElement;this._self._c},r=[];n._withStripped=!0},94:
/*!****************************************************************************************************************!*\
  !*** /Users/iFan/Documents/HBuilderProjects/uniTest1/pages/activity/joinactivity.vue?vue&type=script&lang=js& ***!
  \****************************************************************************************************************/
/*! no static exports found */function(e,t,i){"use strict";i.r(t);var n=i(/*! -!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./joinactivity.vue?vue&type=script&lang=js& */95),r=i.n(n);for(var a in n)"default"!==a&&function(e){i.d(t,e,function(){return n[e]})}(a);t.default=r.a},95:
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/iFan/Documents/HBuilderProjects/uniTest1/pages/activity/joinactivity.vue?vue&type=script&lang=js& ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r=(n=i(/*! ./node_modules/@babel/runtime/regenerator */21))&&n.__esModule?n:{default:n};function a(e,t,i,n,r,a,s){try{var u=e[a](s),c=u.value}catch(e){return void i(e)}u.done?t(c):Promise.resolve(c).then(n,r)}function s(e){return function(){var t=this,i=arguments;return new Promise(function(n,r){var s=e.apply(t,i);function u(e){a(s,n,r,u,c,"next",e)}function c(e){a(s,n,r,u,c,"throw",e)}u(void 0)})}}var u={components:{inputs:function(){return Promise.all(/*! import() | components/QuShe-inputs/inputs */[i.e("common/vendor"),i.e("components/QuShe-inputs/inputs")]).then(i.bind(null,/*! @/components/QuShe-inputs/inputs.vue */178))}},data:function(){return{activity_id:0,isNeedPicOrUrl:!0,fontSizeScaleSet:{allScale:.028,titleScale:.035,contentScale:.035},titleSet:{layout:"left"},inputsArray:[{variableName:"name",title:"名字",placeholder:"请填写你的姓名或网名",maxlength:32},{variableName:"wechat",title:"微信号",placeholder:"请填写自己的微信号",maxlength:64},{type:"picker-custom2",variableName:"music_type",title:"乐器类型",itemArray:[[{name:"尤克里里",value:"ukulele"},{name:"吉他",value:"guitar"},{name:"鼓",value:"drum"}]],steps:{step_1_value:"name"}},{type:"picker-custom2",variableName:"level",title:"能力分类",itemArray:[[{name:"萌新",value:"one"},{name:"入门",value:"two"},{name:"大佬",value:"three"}]],steps:{step_1_value:"name"}},{variableName:"remark",title:"备注信息",placeholder:"随便说点什么吧...",maxlength:64,ignore:!0}],picInput:{type:"pics",variableName:"pic",title:"琴照上传",itemArray:[{title:"琴照",ignore:!1}],border_bottom:"1px solid #f2f2f2",clearColor:"#c0ebd7",hide:!1,customId:"imgBlob"},urlInput:{variableName:"pic",title:"视频地址",placeholder:"请填写一个你的弹琴视频链接地址",maxlength:128,ignore:!1,hide:!1}}},onLoad:function(e){this.activity_id=e.id},methods:{inputsChange:function(e){console.log("change"),console.log(e),"wechat"==e.index&&this.validateMemberByWechat(e.newData),"level"==e.index&&(this.isNeedPicOrUrl?"萌新"==e.newData.result[0].name?5==this.inputsArray.length?this.inputsArray.splice(5,0,this.picInput):this.inputsArray.splice(5,1,this.picInput):5==this.inputsArray.length?this.inputsArray.splice(5,0,this.urlInput):this.inputsArray.splice(5,1,this.urlInput):this.inputsArray.length>5&&this.inputsArray.splice(5,1))},validateMemberByWechat:function(){var e=s(r.default.mark(function e(t){var i;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$apis.validateMemberByWechat({wechat:t},{isRes:!0});case 2:i=e.sent,console.log(i),i.success?this.isNeedPicOrUrl=!1:this.isNeedPicOrUrl=!0;case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),activeFc:function(t){if(t.level=t.level.result[0].name,t.music_type=t.music_type.result[0].name,this.isNeedPicOrUrl){if(this.isNumber(t.pic))return void e.showToast({title:"请正确填写视频地址"});if("萌新"==t.level){if(this.isJSON(t.pic)){var i=JSON.parse(t.pic);if(!i.success)return void e.showToast({title:"图片上传失败，请重试"});t.pic=i.url}}else if(!this.isURL(t.pic))return void e.showToast({title:"请正确填写视频地址"})}else t.pic="";t.activity_id=this.activity_id,t.isOldMember=this.isNeedPicOrUrl?2:1,console.log(t),this.submitForm(t)},submitForm:function(){var t=s(r.default.mark(function t(i){var n;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$apis.joinActivity(i,{isRes:!0});case 2:n=t.sent,console.log(n),n.success?(e.showToast({title:"恭喜! 报名成功"}),setTimeout(function(){e.navigateBack()},600)):"repeat"==n.error?e.showToast({title:"不允许重复报名"}):"black"==n.error?e.showToast({title:"你在黑名单中"}):e.showToast({title:"报名失败，请稍后再试"});case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),isJSON:function(e){try{return JSON.parse(e),!0}catch(e){return!1}},isNumber:function(e){return!(!/^\d+(\.\d+)?$/.test(e)&&!/^(-(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*)))$/.test(e))},isURL:function(e){return!!new RegExp(/((^http)|(^https)|(^ftp)):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\/.,@?^=%&:\/~\/+#]*[\w\-\/@?^=%&\/~\/+#])?/).test(e)}}};t.default=u}).call(this,i(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1).default)}},[[90,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/activity/joinactivity.js.map