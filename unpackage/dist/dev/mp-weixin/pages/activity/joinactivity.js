(global.webpackJsonp=global.webpackJsonp||[]).push([["pages/activity/joinactivity"],{88:
/*!**********************************************************************************************************!*\
  !*** /Users/iFan/Documents/HBuilderProjects/uniTest1/main.js?{"page":"pages%2Factivity%2Fjoinactivity"} ***!
  \**********************************************************************************************************/
/*! no static exports found */function(t,e,i){"use strict";(function(t){i(/*! uni-pages */4),i(/*! @dcloudio/uni-stat */5);e(i(/*! vue */2));function e(t){return t&&t.__esModule?t:{default:t}}t(e(i(/*! ./pages/activity/joinactivity.vue */89)).default)}).call(this,i(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1).createPage)},89:
/*!***************************************************************************************!*\
  !*** /Users/iFan/Documents/HBuilderProjects/uniTest1/pages/activity/joinactivity.vue ***!
  \***************************************************************************************/
/*! no static exports found */function(t,e,i){"use strict";i.r(e);var n=i(/*! ./joinactivity.vue?vue&type=template&id=08439ce9& */90),a=i(/*! ./joinactivity.vue?vue&type=script&lang=js& */92);for(var r in a)"default"!==r&&function(t){i.d(e,t,function(){return a[t]})}(r);var s=i(/*! ../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js */14),l=Object(s.default)(a.default,n.render,n.staticRenderFns,!1,null,null,null);l.options.__file="Users/iFan/Documents/HBuilderProjects/uniTest1/pages/activity/joinactivity.vue",e.default=l.exports},90:
/*!**********************************************************************************************************************!*\
  !*** /Users/iFan/Documents/HBuilderProjects/uniTest1/pages/activity/joinactivity.vue?vue&type=template&id=08439ce9& ***!
  \**********************************************************************************************************************/
/*! exports provided: render, staticRenderFns */function(t,e,i){"use strict";i.r(e);var n=i(/*! -!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-hbuilderx/packages/webpack-uni-nvue-loader/lib/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--17-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./joinactivity.vue?vue&type=template&id=08439ce9& */91);i.d(e,"render",function(){return n.render}),i.d(e,"staticRenderFns",function(){return n.staticRenderFns})},91:
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-hbuilderx/packages/webpack-uni-nvue-loader/lib/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--17-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/iFan/Documents/HBuilderProjects/uniTest1/pages/activity/joinactivity.vue?vue&type=template&id=08439ce9& ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */function(t,e,i){"use strict";i.r(e),i.d(e,"render",function(){return n}),i.d(e,"staticRenderFns",function(){return a});var n=function(){var t=this.$createElement;this._self._c},a=[];n._withStripped=!0},92:
/*!****************************************************************************************************************!*\
  !*** /Users/iFan/Documents/HBuilderProjects/uniTest1/pages/activity/joinactivity.vue?vue&type=script&lang=js& ***!
  \****************************************************************************************************************/
/*! no static exports found */function(t,e,i){"use strict";i.r(e);var n=i(/*! -!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./joinactivity.vue?vue&type=script&lang=js& */93),a=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,function(){return n[t]})}(r);e.default=a.a},93:
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/iFan/Documents/HBuilderProjects/uniTest1/pages/activity/joinactivity.vue?vue&type=script&lang=js& ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={components:{inputs:function(){return Promise.all(/*! import() | components/QuShe-inputs/inputs */[i.e("common/vendor"),i.e("components/QuShe-inputs/inputs")]).then(i.bind(null,/*! @/components/QuShe-inputs/inputs.vue */161))}},data:function(){return{activity_id:0,isNeedPicOrUrl:!0,fontSizeScaleSet:{allScale:.028,titleScale:.035,contentScale:.035},titleSet:{layout:"left"},inputsArray:[{variableName:"name",title:"名字",placeholder:"请填写你的姓名或网名",maxlength:32},{variableName:"wechat",title:"微信号",placeholder:"请填写自己的微信号",maxlength:64},{type:"picker-custom2",variableName:"music_type",title:"乐器类型",itemArray:[[{name:"尤克里里",value:"ukulele"},{name:"吉他",value:"guitar"},{name:"鼓",value:"drum"}]],steps:{step_1_value:"name"}},{type:"picker-custom2",variableName:"level",title:"能力分类",itemArray:[[{name:"萌新",value:"one"},{name:"入门",value:"two"},{name:"大佬",value:"three"}]],steps:{step_1_value:"name"}},{variableName:"remark",title:"备注信息",placeholder:"随便说点什么吧...",maxlength:64,ignore:!0}],picInput:{type:"pics",variableName:"pic",title:"琴照上传",itemArray:[{title:"琴照",ignore:!1}],border_bottom:"1px solid #f2f2f2",clearColor:"#c0ebd7",hide:!1,customId:"imgBlob"},urlInput:{variableName:"pic",title:"视频地址",placeholder:"请填写一个你的弹琴视频链接地址",maxlength:128,ignore:!1,hide:!1}}},onLoad:function(t){this.activity_id=t.id},methods:{inputsChange:function(t){var e=this;console.log("change"),console.log(t),"wechat"==t.index&&this.$http.request({url:"/activity/validateMemberByWechat",method:"post",params:{wechat:t.newData}}).then(function(t){console.log(t),t.data.success?e.isNeedPicOrUrl=!1:e.isNeedPicOrUrl=!0}).catch(function(t){console.log(t)}),"level"==t.index&&(this.isNeedPicOrUrl?"萌新"==t.newData.result[0].name?5==this.inputsArray.length?this.inputsArray.splice(5,0,this.picInput):this.inputsArray.splice(5,1,this.picInput):5==this.inputsArray.length?this.inputsArray.splice(5,0,this.urlInput):this.inputsArray.splice(5,1,this.urlInput):this.inputsArray.length>5&&this.inputsArray.splice(5,1))},activeFc:function(e){var i=this;if(e.level=e.level.result[0].name,e.music_type=e.music_type.result[0].name,this.isNeedPicOrUrl){if(this.isNumber(e.pic))return void t.showToast({title:"请正确填写视频地址"});if("萌新"==e.level){if(this.isJSON(e.pic)){var n=JSON.parse(e.pic);if(!n.success)return void t.showToast({title:"图片上传失败，请重试"});e.pic=n.url}}else if(!this.isURL(e.pic))return void t.showToast({title:"请正确填写视频地址"})}else e.pic="";e.activity_id=this.activity_id,e.isOldMember=this.isNeedPicOrUrl?2:1,console.log(e),this.$http.request({url:"/activity/joinActivity",method:"post",params:e}).then(function(e){console.log(e),e.data.success?(t.showToast({title:"恭喜! 报名成功"}),setTimeout(function(){t.navigateTo({url:"../activityinfo/activityinfo?id="+i.activity_id})},600)):"repeat"==e.data.error?t.showToast({title:"不允许重复报名"}):"black"==e.data.error?t.showToast({title:"你在黑名单中"}):t.showToast({title:"报名失败，请稍后再试"})}).catch(function(e){t.showToast({title:"报名失败，请稍后再试"}),console.log(e)})},isJSON:function(t){try{return JSON.parse(t),!0}catch(t){return!1}},isNumber:function(t){return!(!/^\d+(\.\d+)?$/.test(t)&&!/^(-(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*)))$/.test(t))},isURL:function(t){return!!new RegExp(/((^http)|(^https)|(^ftp)):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\/.,@?^=%&:\/~\/+#]*[\w\-\/@?^=%&\/~\/+#])?/).test(t)}}};e.default=n}).call(this,i(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1).default)}},[[88,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/activity/joinactivity.js.map